{{ define "main" }}
<article class="author-profile">

  <!-- Avatar -->
  {{ with .Params.avatar }}
    <div class="author-avatar">
      <img src="{{ printf "media/authors/%s" . | relURL }}" alt="Avatar of {{ $.Title }}" class="avatar">
    </div>
  {{ end }}

  <!-- Name and Role -->
  <h1>{{ .Title }}</h1>
  {{ with .Params.role }}
    <h3>{{ . }}</h3>
  {{ end }}

  <!-- Email -->
  {{ with .Params.email }}
    <p><strong>Email:</strong> <a href="mailto:{{ . }}">{{ . }}</a></p>
  {{ end }}

  <!-- Website -->
  {{ with .Params.website }}
    <p><strong>Website:</strong> <a href="{{ . }}" target="_blank">{{ . }}</a></p>
  {{ end }}

  <!-- Social Links -->
  {{ with .Params.social }}
    <div class="author-social">
      <ul>
        {{ range . }}
          <li><a href="{{ .link }}" target="_blank">{{ .icon }}</a></li>
        {{ end }}
      </ul>
    </div>
  {{ end }}

  <!-- Bio -->
  <div class="author-bio">
    {{ .Content }}
  </div>

  <!-- Publications -->
  <div class="author-publications">
    {{ partial "publication_list" (dict "page" . "query" (dict "filters" (dict "authors" (slice .Title)))) }}
  </div>

</article>
{{ end }}
